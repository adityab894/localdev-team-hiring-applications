<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Localdev Team - Hiring Applications</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --accent-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --dark-bg: #0f0f23;
            --card-bg: rgba(255, 255, 255, 0.05);
            --card-border: rgba(255, 255, 255, 0.1);
            --text-primary: #ffffff;
            --text-secondary: #a0aec0;
            --hover-glow: rgba(102, 126, 234, 0.3);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Animated background */
        .background-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .gradient-orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.3;
            animation: float 20s infinite ease-in-out;
        }

        .orb-1 {
            width: 500px;
            height: 500px;
            background: var(--primary-gradient);
            top: -250px;
            left: -250px;
            animation-delay: 0s;
        }

        .orb-2 {
            width: 400px;
            height: 400px;
            background: var(--secondary-gradient);
            bottom: -200px;
            right: -200px;
            animation-delay: 5s;
        }

        .orb-3 {
            width: 350px;
            height: 350px;
            background: var(--accent-gradient);
            top: 50%;
            right: 10%;
            animation-delay: 10s;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(50px, -50px) scale(1.1); }
            66% { transform: translate(-30px, 30px) scale(0.9); }
        }

        /* Header */
        header {
            padding: 3rem 2rem 2rem;
            text-align: center;
            position: relative;
        }

        .logo {
            font-size: 2.5rem;
            font-weight: 800;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
            animation: slideDown 0.8s ease-out;
        }

        .subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
            font-weight: 400;
            margin-bottom: 1rem;
            animation: slideDown 0.8s ease-out 0.1s backwards;
        }

        .stats {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 1.5rem;
            flex-wrap: wrap;
            animation: slideDown 0.8s ease-out 0.2s backwards;
        }

        .stat-item {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--card-border);
            padding: 1rem 2rem;
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .stat-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px var(--hover-glow);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-label {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-top: 0.25rem;
        }

        /* Search and Filter */
        .controls {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 2rem;
            animation: slideUp 0.8s ease-out 0.3s backwards;
        }

        .search-container {
            position: relative;
            margin-bottom: 1.5rem;
        }

        .search-input {
            width: 100%;
            padding: 1rem 1rem 1rem 3rem;
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border: 2px solid var(--card-border);
            border-radius: 16px;
            color: var(--text-primary);
            font-size: 1rem;
            font-family: 'Inter', sans-serif;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }

        .search-input::placeholder {
            color: var(--text-secondary);
        }

        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
            font-size: 1.2rem;
        }

        /* Grid */
        .applications-grid {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 1.5rem;
        }

        /* Card */
        .application-card {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--card-border);
            border-radius: 20px;
            padding: 1.75rem;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            animation: fadeIn 0.6s ease-out backwards;
        }

        .application-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--primary-gradient);
            transform: scaleX(0);
            transition: transform 0.4s ease;
        }

        .application-card:hover::before {
            transform: scaleX(1);
        }

        .application-card:hover {
            transform: translateY(-8px);
            border-color: rgba(102, 126, 234, 0.5);
            box-shadow: 0 20px 60px rgba(102, 126, 234, 0.2);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .avatar {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: var(--primary-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
            flex-shrink: 0;
        }

        .card-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }

        .card-meta {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .interview-time {
            font-size: 0.95rem;
            color: #a5b4fc;
            font-weight: 600;
            margin-top: 0.5rem;
            padding: 0.5rem;
            background: rgba(102, 126, 234, 0.1);
            border-radius: 8px;
            text-align: center;
        }

        .interview-date {
            font-size: 0.85rem;
            color: #f9a8d4;
            font-weight: 600;
            margin-top: 0.75rem;
            margin-bottom: 0.5rem;
            padding: 0.4rem 0.75rem;
            background: rgba(249, 168, 212, 0.1);
            border: 1px solid rgba(249, 168, 212, 0.2);
            border-radius: 6px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .content-team-badge {
            font-size: 0.85rem;
            color: #fbbf24;
            font-weight: 600;
            margin-top: 0.5rem;
            padding: 0.5rem;
            background: rgba(251, 191, 36, 0.1);
            border: 1px solid rgba(251, 191, 36, 0.3);
            border-radius: 8px;
            text-align: center;
        }

        .card-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .tag {
            padding: 0.375rem 0.875rem;
            background: rgba(102, 126, 234, 0.15);
            border: 1px solid rgba(102, 126, 234, 0.3);
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 500;
            color: #a5b4fc;
            transition: all 0.3s ease;
        }

        .application-card:hover .tag {
            background: rgba(102, 126, 234, 0.25);
            border-color: rgba(102, 126, 234, 0.5);
        }

        .view-button {
            margin-top: 1.25rem;
            width: 100%;
            padding: 0.875rem;
            background: var(--primary-gradient);
            border: none;
            border-radius: 12px;
            color: white;
            font-weight: 600;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
        }

        .view-button:hover {
            transform: scale(1.02);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }

        .meeting-button {
            margin-top: 0.75rem;
            width: 100%;
            padding: 0.875rem;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            border: none;
            border-radius: 12px;
            color: white;
            font-weight: 600;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
        }

        .meeting-button:hover {
            transform: scale(1.02);
            box-shadow: 0 8px 20px rgba(16, 185, 129, 0.4);
        }

        .attendance-button {
            margin-top: 0.75rem;
            width: 100%;
            padding: 0.875rem;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: white;
            font-weight: 600;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
        }

        .attendance-button:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
        }

        .attendance-button.present {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            border-color: #10b981;
        }

        .attendance-button.absent {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            border-color: #ef4444;
        }

        .no-results {
            text-align: center;
            padding: 4rem 2rem;
            color: var(--text-secondary);
            font-size: 1.1rem;
            grid-column: 1 / -1;
        }

        /* Animations */
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .logo {
                font-size: 2rem;
            }

            .stats {
                gap: 1rem;
            }

            .stat-item {
                padding: 0.75rem 1.5rem;
            }

            .applications-grid {
                grid-template-columns: 1fr;
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="background-animation">
        <div class="gradient-orb orb-1"></div>
        <div class="gradient-orb orb-2"></div>
        <div class="gradient-orb orb-3"></div>
    </div>

    <header>
        <h1 class="logo">Localdev Team</h1>
        <p class="subtitle">Hiring Applications Dashboard</p>
        <div class="stats">
            <div class="stat-item">
                <div class="stat-number" id="totalCount">21</div>
                <div class="stat-label">Total Applications</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" id="displayCount">21</div>
                <div class="stat-label">Showing</div>
            </div>
        </div>
    </header>

    <div class="controls">
        <div class="search-container">
            <span class="search-icon">üîç</span>
            <input 
                type="text" 
                class="search-input" 
                id="searchInput" 
                placeholder="Search by name or skills..."
                autocomplete="off"
            >
        </div>
    </div>

    <div style="max-width: 1400px; margin: 0 auto; padding: 0 2rem;">
        <h2 style="color: var(--text-primary); font-size: 1.8rem; font-weight: 700; margin-bottom: 1.5rem; background: var(--primary-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
            Development Team
        </h2>
    </div>
    <div class="applications-grid" id="developmentGrid"></div>

    <div style="max-width: 1400px; margin: 3rem auto 0; padding: 0 2rem;">
        <h2 style="color: var(--text-primary); font-size: 1.8rem; font-weight: 700; margin-bottom: 1.5rem; background: var(--accent-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
            UI/UX Designer
        </h2>
    </div>
    <div class="applications-grid" id="uiuxGrid"></div>

    <div style="max-width: 1400px; margin: 3rem auto 0; padding: 0 2rem;">
        <h2 style="color: var(--text-primary); font-size: 1.8rem; font-weight: 700; margin-bottom: 1.5rem; background: var(--secondary-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
            Content Team
        </h2>
    </div>
    <div class="applications-grid" id="contentGrid"></div>

    <script>
        // Initialize Firebase
        const firebaseConfig = {
                apiKey: "AIzaSyBHEyPHOetR7V314o2KAjS7_6TBD9NZQHM",
                authDomain: "localdev-attendance.firebaseapp.com",
                projectId: "localdev-attendance",
                storageBucket: "localdev-attendance.firebasestorage.app",
                messagingSenderId: "878975233942",
                appId: "1:878975233942:web:573bf5fe700f46ca43b7b7"
        };

        // Initialize Firebase (use fallback if not configured)
        let db = null;
        let useFirebase = false;
        
        try {
            if (!firebase.apps.length) {
                firebase.initializeApp(firebaseConfig);
            }
            db = firebase.firestore();
            useFirebase = true;
            console.log('Firebase initialized successfully');
        } catch (error) {
            console.warn('Firebase not configured, using localStorage fallback:', error);
            useFirebase = false;
        }

        const meetingLink = "https://meet.google.com/ihz-ttpz-wyc";
        
        const scheduleMap = {
            "Rohan Dattatraya Bhoge": "10:00 AM - 10:30 AM",
            "Daksh Mishra": "10:30 AM - 11:00 AM",
            "Parth Kothari": "11:00 AM - 11:30 AM",
            "Pranav Kale": "11:30 AM - 12:00 PM",
            "Akhilesh Reddy": "12:00 PM - 12:30 PM",
            "Sarthak Rajesh Pawar": "01:00 PM - 01:30 PM",
            "Mritunjay Pandey": "04:00 PM - 04:30 PM",
            "Sravan Avvaru": "04:30 PM - 05:00 PM",
            "Durgesh Mahajan": "05:00 PM - 05:30 PM",
            "Basavaraj Kallapur": "05:30 PM - 06:00 PM",
            "Ashitosh Bachute": "06:00 PM - 06:30 PM",
            "Shreeram Mutukundu": "06:30 PM - 07:00 PM",
            "Shravan Patel": "07:00 PM - 07:30 PM",
            "Gaurav Mishra": "07:30 PM - 08:00 PM",
            "Komal Raj": "08:00 PM - 08:30 PM",
            "Anushka Raj": "11:00 AM - 11:30 AM",
            "Harsh Parag Jobanputra": "11:30 AM - 12:00 PM",
            "Sanskruti Sandip Dhamal": "12:30 PM - 10:00 PM",
            "Uma Satish Salunke": "10:00 PM - 10:30 PM"
        };

        // Date mapping for each applicant
        const dateMap = {
            "Rohan Dattatraya Bhoge": "January 7, 2026",
            "Daksh Mishra": "January 7, 2026",
            "Parth Kothari": "January 7, 2026",
            "Pranav Kale": "January 7, 2026",
            "Akhilesh Reddy": "January 8, 2026",
            "Sarthak Rajesh Pawar": "January 7, 2026",
            "Mritunjay Pandey": "January 7, 2026",
            "Sravan Avvaru": "January 7, 2026",
            "Durgesh Mahajan": "January 7, 2026",
            "Basavaraj Kallapur": "January 8, 2026",
            "Ashitosh Bachute": "January 7, 2026",
            "Shreeram Mutukundu": "January 7, 2026",
            "Shravan Patel": "January 7, 2026",
            "Gaurav Mishra": "January 7, 2026",
            "Komal Raj": "January 8, 2026",
            "Anushka Raj": "January 8, 2026",
            "Harsh Parag Jobanputra": "January 8, 2026",
            "Sanskruti Sandip Dhamal": "January 8, 2026",
            "Uma Satish Salunke": "January 8, 2026"
        };

        // Time order for sorting
        const timeOrder = [
            "Rohan Dattatraya Bhoge",
            "Daksh Mishra",
            "Parth Kothari",
            "Pranav Kale",
            "Akhilesh Reddy",
            "Sarthak Rajesh Pawar",
            "Mritunjay Pandey",
            "Sravan Avvaru",
            "Durgesh Mahajan",
            "Basavaraj Kallapur",
            "Ashitosh Bachute",
            "Shreeram Mutukundu",
            "Shravan Patel",
            "Gaurav Mishra",
            "Komal Raj",
            "Anushka Raj",
            "Harsh Parag Jobanputra",
            "Sanskruti Sandip Dhamal",
            "Uma Satish Salunke"
        ];

        // Global attendance data
        let attendanceData = {};
        let attendanceLoaded = false;

        // Load attendance from Firebase or localStorage
        async function loadAttendance() {
            if (useFirebase && db) {
                try {
                    const docRef = db.collection('attendance').doc('currentSession');
                    const doc = await docRef.get();
                    if (doc.exists) {
                        attendanceData = doc.data().data || {};
                        console.log('Attendance loaded from Firebase:', attendanceData);
                    } else {
                        console.log('No Firebase data found, starting fresh');
                        attendanceData = {};
                    }
                } catch (error) {
                    console.error('Error loading from Firebase:', error);
                    loadFromLocalStorage();
                }
            } else {
                loadFromLocalStorage();
            }
            attendanceLoaded = true;
            renderApplications(applications);
        }

        function loadFromLocalStorage() {
            try {
                const storedData = localStorage.getItem('attendanceData');
                if (storedData) {
                    attendanceData = JSON.parse(storedData);
                    console.log('Attendance loaded from localStorage:', attendanceData);
                }
            } catch (error) {
                console.error('Error loading attendance data:', error);
                attendanceData = {};
            }
        }

        // Function to save attendance data
        async function saveAttendance() {
            if (useFirebase && db) {
                try {
                    await db.collection('attendance').doc('currentSession').set({
                        data: attendanceData,
                        lastUpdated: firebase.firestore.FieldValue.serverTimestamp()
                    });
                    console.log('Attendance saved to Firebase:', attendanceData);
                } catch (error) {
                    console.error('Error saving to Firebase:', error);
                    saveToLocalStorage();
                }
            } else {
                saveToLocalStorage();
            }
        }

        function saveToLocalStorage() {
            try {
                localStorage.setItem('attendanceData', JSON.stringify(attendanceData));
                console.log('Attendance saved to localStorage:', attendanceData);
            } catch (error) {
                console.error('Error saving attendance data:', error);
            }
        }

        // Real-time listener for Firebase updates
        if (useFirebase && db) {
            db.collection('attendance').doc('currentSession')
                .onSnapshot((doc) => {
                    if (doc.exists) {
                        attendanceData = doc.data().data || {};
                        console.log('Attendance updated in real-time:', attendanceData);
                        const searchInput = document.getElementById('searchInput');
                        const searchTerm = searchInput ? searchInput.value.toLowerCase() : '';
                        const filtered = applications.filter(app => 
                            app.name.toLowerCase().includes(searchTerm) ||
                            app.skills.some(skill => skill.toLowerCase().includes(searchTerm))
                        );
                        renderApplications(filtered);
                    }
                }, (error) => {
                    console.error('Error listening to Firebase updates:', error);
                });
        }

        const applications = [
            { name: "Akhilesh Reddy", file: "Akhilesh Reddy 2da480539ad0810ca2d0f200af1587ed.html", skills: ["Python", "React", "TypeScript", "AI Tools"] },
            { name: "Anushka Raj", file: "Anushka Raj 2da480539ad0812099d1d896059c1b47.html", skills: ["Content & Video"] },
            { name: "Ashitosh Bachute", file: "Ashitosh Bachute 2da480539ad08116a3b2e425ac1b58d4.html", skills: ["Full Stack"] },
            { name: "Basavaraj Kallapur", file: "Basavaraj Kallapur 2da480539ad081e0b603d1df8586af2c.html", skills: ["Backend"] },
            { name: "Daksh Mishra", file: "Daksh Mishra 2d9480539ad081a4befef9ddabdd71cc.html", skills: ["Frontend"] },
            { name: "Durgesh Mahajan", file: "Durgesh Mahajan 2da480539ad081609e1cdce6515887e3.html", skills: ["Development"] },
            { name: "Gaurav Mishra", file: "Gaurav Mishra 2da480539ad081b6b59ed3598ba9ecb8.html", skills: ["Software Engineering"] },
            { name: "Harsh Parag Jobanputra", file: "Harsh Parag Jobanputra 2da480539ad081458514dda49377d8a9.html", skills: ["Editor"] },
            { name: "Komal Raj", file: "resume.pdf", skills: ["UI/UX Designer", "Figma", "Adobe XD"] },
            { name: "Mritunjay Pandey", file: "Mritunjay Pandey 2da480539ad081f9b0ecfb4f04e87d0a.html", skills: ["Development"] },
            { name: "Parth Kothari", file: "Parth Kothari 2d9480539ad08192a981ee2695a9d0fb.html", skills: ["Tech"] },
            { name: "Pranav Kale", file: "Pranav Kale 2d9480539ad0813b86c1c6cee7db5ca6.html", skills: ["Development"] },
            { name: "Rohan Dattatraya Bhoge", file: "Rohan Dattatraya Bhoge 2da480539ad081b184a7fc6246134d60.html", skills: ["Development"] },
            { name: "Sanskruti Sandip Dhamal", file: "Sanskruti Sandip Dhamal 2dd480539ad0815ea4a2e8a4cfb2810e.html", skills: ["Graphics & Video Editing (Basic)"] },
            { name: "Sarthak Rajesh Pawar", file: "Sarthak Rajesh Pawar 2da480539ad081399666fd10e19376ba.html", skills: ["Development"] },
            { name: "Shravan Patel", file: "Shravan Patel 2de480539ad081d194f0c59261249855.html", skills: ["Engineering"] },
            { name: "Shreeram Mutukundu", file: "Shreeram Mutukundu 2db480539ad0819797dcd70cd6db945c.html", skills: ["Development"] },
            { name: "Sravan Avvaru", file: "Sravan Avvaru 2db480539ad08181bbffcae00abd1e6e.html", skills: ["Tech"] },
            { name: "Uma Satish Salunke", file: "Uma Satish Salunke 2df480539ad08137a6e8fb795aa3bdd0.html", skills: ["Content Writing"] }
        ];

        function getInitials(name) {
            return name.split(' ').map(n => n[0]).join('').toUpperCase().slice(0, 2);
        }

        function toggleAttendance(name) {
            if (!attendanceData[name]) {
                attendanceData[name] = 'present';
            } else if (attendanceData[name] === 'present') {
                attendanceData[name] = 'absent';
            } else {
                delete attendanceData[name];
            }
            saveAttendance();
            
            // Get current search term to maintain filter
            const searchInput = document.getElementById('searchInput');
            const searchTerm = searchInput.value.toLowerCase();
            const filtered = applications.filter(app => 
                app.name.toLowerCase().includes(searchTerm) ||
                app.skills.some(skill => skill.toLowerCase().includes(searchTerm))
            );
            renderApplications(filtered);
        }

        function getAttendanceButton(name) {
            const status = attendanceData[name];
            if (status === 'present') {
                return `<button class="attendance-button present" onclick="event.stopPropagation(); toggleAttendance('${name}')">‚úì Present</button>`;
            } else if (status === 'absent') {
                return `<button class="attendance-button absent" onclick="event.stopPropagation(); toggleAttendance('${name}')">‚úó Absent</button>`;
            } else {
                return `<button class="attendance-button" onclick="event.stopPropagation(); toggleAttendance('${name}')">Mark Attendance</button>`;
            }
        }

        function renderApplications(filteredApps) {
            const developmentGrid = document.getElementById('developmentGrid');
            const uiuxGrid = document.getElementById('uiuxGrid');
            const contentGrid = document.getElementById('contentGrid');
            const displayCount = document.getElementById('displayCount');
            
            // Define team categories
            const uiuxNames = ["Komal Raj"];
            const contentNames = ["Anushka Raj", "Harsh Parag Jobanputra", "Sanskruti Sandip Dhamal", "Uma Satish Salunke"];
            
            // Separate applications into teams
            let developmentApps = filteredApps.filter(app => 
                scheduleMap[app.name] && !uiuxNames.includes(app.name) && !contentNames.includes(app.name)
            );
            let uiuxApps = filteredApps.filter(app => uiuxNames.includes(app.name));
            let contentApps = filteredApps.filter(app => contentNames.includes(app.name));
            
            // Sort by time order
            developmentApps.sort((a, b) => {
                const indexA = timeOrder.indexOf(a.name);
                const indexB = timeOrder.indexOf(b.name);
                return indexA - indexB;
            });
            
            uiuxApps.sort((a, b) => {
                const indexA = timeOrder.indexOf(a.name);
                const indexB = timeOrder.indexOf(b.name);
                return indexA - indexB;
            });
            
            contentApps.sort((a, b) => {
                const indexA = timeOrder.indexOf(a.name);
                const indexB = timeOrder.indexOf(b.name);
                return indexA - indexB;
            });
            
            if (filteredApps.length === 0) {
                developmentGrid.innerHTML = '<div class="no-results">No applications found matching your search.</div>';
                uiuxGrid.innerHTML = '';
                contentGrid.innerHTML = '';
                displayCount.textContent = '0';
                return;
            }

            displayCount.textContent = filteredApps.length;
            
            // Render Development Team
            if (developmentApps.length === 0) {
                developmentGrid.innerHTML = '<div class="no-results">No development team applications found.</div>';
            } else {
                developmentGrid.innerHTML = developmentApps.map((app, index) => {
                    const interviewTime = scheduleMap[app.name];
                    const interviewDate = dateMap[app.name] || "January 7, 2026";
                    
                    return `
                        <div class="application-card" style="animation-delay: ${index * 0.05}s" onclick="window.open('${encodeURIComponent(app.file)}', '_blank')">
                            <div class="card-header">
                                <div class="avatar">${getInitials(app.name)}</div>
                                <div>
                                    <div class="card-title">${app.name}</div>
                                    <div class="card-meta">Applicant</div>
                                </div>
                            </div>
                            <div class="interview-time">üïí ${interviewTime}</div>
                            <div class="card-tags">
                                ${app.skills.map(skill => `<span class="tag">${skill}</span>`).join('')}
                            </div>
                            <div class="interview-date">üìÖ ${interviewDate}</div>
                            <button class="view-button">View Application ‚Üí</button>
                            <button class="meeting-button" onclick="event.stopPropagation(); window.open('${meetingLink}', '_blank')">üìπ Join Meeting</button>
                            ${getAttendanceButton(app.name)}
                        </div>
                    `;
                }).join('');
            }

            // Render UI/UX Team
            if (uiuxApps.length === 0) {
                uiuxGrid.innerHTML = '<div class="no-results">No UI/UX applications found.</div>';
            } else {
                uiuxGrid.innerHTML = uiuxApps.map((app, index) => {
                    const interviewTime = scheduleMap[app.name];
                    const interviewDate = dateMap[app.name] || "January 7, 2026";
                    
                    return `
                        <div class="application-card" style="animation-delay: ${(developmentApps.length + index) * 0.05}s" onclick="window.open('${encodeURIComponent(app.file)}', '_blank')">
                            <div class="card-header">
                                <div class="avatar">${getInitials(app.name)}</div>
                                <div>
                                    <div class="card-title">${app.name}</div>
                                    <div class="card-meta">Applicant</div>
                                </div>
                            </div>
                            <div class="interview-time">üïí ${interviewTime}</div>
                            <div class="card-tags">
                                ${app.skills.map(skill => `<span class="tag">${skill}</span>`).join('')}
                            </div>
                            <div class="interview-date">üìÖ ${interviewDate}</div>
                            <button class="view-button">View Application ‚Üí</button>
                            <button class="meeting-button" onclick="event.stopPropagation(); window.open('${meetingLink}', '_blank')">üìπ Join Meeting</button>
                            ${getAttendanceButton(app.name)}
                        </div>
                    `;
                }).join('');
            }

            // Render Content Team
            if (contentApps.length === 0) {
                contentGrid.innerHTML = '<div class="no-results">No content team applications found.</div>';
            } else {
                contentGrid.innerHTML = contentApps.map((app, index) => {
                    const interviewTime = scheduleMap[app.name];
                    const interviewDate = dateMap[app.name] || "January 7, 2026";
                    
                    return `
                        <div class="application-card" style="animation-delay: ${(developmentApps.length + uiuxApps.length + index) * 0.05}s" onclick="window.open('${encodeURIComponent(app.file)}', '_blank')">
                            <div class="card-header">
                                <div class="avatar">${getInitials(app.name)}</div>
                                <div>
                                    <div class="card-title">${app.name}</div>
                                    <div class="card-meta">Applicant</div>
                                </div>
                            </div>
                            <div class="interview-time">üïí ${interviewTime}</div>
                            <div class="card-tags">
                                ${app.skills.map(skill => `<span class="tag">${skill}</span>`).join('')}
                            </div>
                            <div class="interview-date">üìÖ ${interviewDate}</div>
                            <button class="view-button">View Application ‚Üí</button>
                            <button class="meeting-button" onclick="event.stopPropagation(); window.open('${meetingLink}', '_blank')">üìπ Join Meeting</button>
                            ${getAttendanceButton(app.name)}
                        </div>
                    `;
                }).join('');
            }
        }

        // Initial load and render
        loadAttendance();

        // Search functionality
        const searchInput = document.getElementById('searchInput');
        searchInput.addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase();
            const filtered = applications.filter(app => 
                app.name.toLowerCase().includes(searchTerm) ||
                app.skills.some(skill => skill.toLowerCase().includes(searchTerm))
            );
            renderApplications(filtered);
        });

        // Add keyboard navigation
        searchInput.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                searchInput.value = '';
                renderApplications(applications);
            }
        });
    </script>
</body>
</html>
